[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "posts/premiere-league-spending/index.html",
    "href": "posts/premiere-league-spending/index.html",
    "title": "What can money tell us about success in the Premier League?",
    "section": "",
    "text": "All is fair in love and war, but definitely not in football. And yes, even though I am an American I am going to be pretentious and call it football. The various leagues around the world are dominated by the clubs with the most spending power. The world is dominated by the leagues with the largest TV contracts.\nThe Premier League, England’s top football league is not exempt from this fact. The League is routinely dominated and won by the teams with the largest fan bases, most revenue, and some seedy financial backers.\nMore money does not always mean more wins though, or in our case points. Over the long term, the teams who spend the most generally perform better, but if you zoom in a little there can be some really unexpected outcomes where teams over or under perform based on their spending.\nOver the last three seasons, 2021-22 through 2023-24, there have been two teams with wildly different spending habits, but similar results. Chelsea, an English powerhouse, have always been big spenders, but over the last three years they have taken that identity to a whole new level. Since the start of the 2021 season, Chelsea have spend a record 1.2 billion USD on transfer fees alone. That is almost 400 million dollars more than the next closest club.\nLet’s take a step back for a moment, you may be asking yourself “what is a transfer fee?” or even “what is a transfer?”. In football, a transfer is when one club pays another club to gain the rights to negotiate a contract with a player currently under contract with another team. This means that clubs can purchase the right to sign a player at anytime even if they are under contract with another team, for a price.\nThat price is often exorbitant. Whether a team is buying a proven star that can help them win now, or a young wunderkind, fees get high and quickly. In 2022, Chelsea paid 120 million dollars to Spanish club SL Benifica for Argentinian midfielder Enzo Fernández.\nBrighton & Hove Albion, Brighton for short, have in comparison to Chelsea, spent much less over the last three years. We will look at them closer in a bit, but keep them in mind when looking at this first chart.\n\n\nCode\nlibrary(tidyverse)\nlibrary(ggrepel)\nlibrary(ggtext)\nlibrary(ggplot2)\n\nbigdata &lt;- read_csv(\"PremSpend.csv\")\nchelsea &lt;- bigdata |&gt; filter(Club == \"Chelsea FC\")\nbrighton &lt;- bigdata |&gt; filter(Club == \"Brighton & Hove Albion\")\n\nggplot() + \n  geom_bar(data=bigdata, aes(x=reorder(Club, Expenditures), weight=Expenditures), fill = \"lightgrey\") +\n  geom_bar(data=chelsea, aes(x=reorder(Club, Expenditures), weight=Expenditures), color = \"#DBA111\", fill=\"#034694\") +\n  geom_bar(data=brighton, aes(x=reorder(Club, Expenditures), weight=Expenditures), color = \"lightblue\", fill=\"#FFCD00\") +\n  coord_flip() +\n  labs(\n    x=\"Club\", \n    y=\"Transfer Expenses (21-24)\", \n    title=\"The duality of club spending\", \n    subtitle=\"Chelsea and Brighton have been on opposite sides of the transfer spending spectrum over the last three years.\", \n    caption=\"Source: TransferMarkt | By Gus Kathol\") +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 20, face = \"bold\"),\n     axis.title = element_text(size = 9), \n    plot.subtitle = element_text(size=10), \n    panel.grid.minor = element_blank(),\n    plot.title.position = \"plot\"\n    ) \n\n\n\n\n\n\n\n\n\nIf you said “wow”, or “is that even possible?”, me too. Chelsea has spent almost double the next closest club Arsenal in transfer fees, and over 40 times more than the Premier League newcomer Luton Town.\nBrighton on the other hand, while not extremely cheap, is not spending fees on blockbuster transfers every cycle like Chelsea is. Right now the two teams don’t look too similar, but soon you should be able to see how these two teams have more in common than you might expect.\n\n\nCode\nggplot() + \n  geom_bar(data=bigdata, aes(x=reorder(Club, Points), weight=Points), fill = \"lightgrey\") +\n  geom_bar(data=chelsea, aes(x=reorder(Club, Points), weight=Points), color = \"#DBA111\", fill=\"#034694\") +\n  geom_bar(data=brighton, aes(x=reorder(Club, Points), weight=Points), color = \"lightblue\", fill=\"#FFCD00\") +\n  coord_flip() +\n  labs(\n    x=\"Club\", \n    y=\"Total Points (21-24)\", \n    title=\"Different means, same results\", \n    subtitle=\"While Chelsea has spent roughly one billion USD more than Brighton, they have almost the same amount of points.\", \n    caption=\"Source: TransferMarkt | By Gus Kathol\"\n    ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 20, face = \"bold\"),\n     axis.title = element_text(size = 9), \n    plot.subtitle = element_text(size=10), \n    panel.grid.minor = element_blank(),\n    plot.title.position = \"plot\"\n    )\n\n\n\n\n\n\n\n\n\nOne again I raise the question, is that possible? The answer is yes, somehow. While far in a way spending more than any other team in the league, they only have the 8th most points over that time span. Brighton on the other hand, were the 13th biggest spenders, and finished right behind Chelsea with the 9th most points, only 6 points behind Chelsea’s total of 162 to be exact.\nWe can actually predict how many points each team should have based on how much money they have spent on transfers. When doing that we get a predicted point total and a residual point total. The predicted point total is how many points a team should have, and the residual is how many points above or below the team actually had compared to the predicted number. For some teams the results of this query show how much they have over performed, for others not so much.\n\n\nCode\nfit &lt;- lm(Points ~ Expenditures, data = bigdata)\n\npremresidualmodel &lt;- bigdata |&gt; mutate(predicted = predict(fit), residuals = residuals(fit))\n\nchelsearesidual &lt;- premresidualmodel |&gt; filter(Club == \"Chelsea FC\")\nbrightonresidual &lt;- premresidualmodel |&gt; filter(Club == \"Brighton & Hove Albion\")\n\nggplot() + \n  geom_point(data=premresidualmodel, aes(x=Expenditures, y=residuals, size = Points), color = \"grey\") +\n  geom_point(data=chelsearesidual, aes(x=Expenditures, y=residuals, size = Points), color = \"#034694\") +\n  geom_point(data=brightonresidual, aes(x=Expenditures, y=residuals, size = Points), color = \"#FFCD00\") +\n  geom_vline(xintercept = 319.36, color=\"black\") +\n  geom_hline(yintercept = 0, color=\"black\") +\n  geom_text(aes(x=150, y=75, label= \"Low Spending | Beat Expectations\"), color = \"blue\") + \n  geom_text(aes(x=875, y=75, label= \"High Spending | Beat Expectations\"), color = \"blue\") +\n  geom_text(aes(x=150, y=-75, label= \"Low Spending | Failed Expections\"), color = \"red\") +\n  geom_text(aes(x=1000, y=-75, label= \"Corner of Shame\"), color = \"red\") +\n  geom_text_repel(\n    data=chelsearesidual, \n    aes(x=Expenditures, y=residuals, label=Club)) +\n  geom_text_repel(\n    data=brightonresidual, \n    aes(x=Expenditures, y=residuals, label=Club)) +\n  labs(\n    x=\"Transfer Expenses (21-24)\", \n    y=\"Residual Points\", \n    title=\"The good, the bad, and the horrendous\", \n    subtitle=\"Chelsea and Brighton have scored a similar amount of points, and vastly defied expectations.\", \n    caption=\"Source: TransferMarkt | By Gus Kathol\"\n    ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 20, face = \"bold\"),\n    axis.title = element_text(size = 9), \n    plot.subtitle = element_text(size=10), \n    panel.grid.minor = element_blank(),\n    plot.title.position = \"plot\"\n    )\n\n\n\n\n\n\n\n\n\nLet’s start with the good. While leading the league in spending, teams in the top right quadrant also have exceeded their lofty expectations. These are your traditional powerhouses like Manchester City, Liverpool, and Arsenal. In your top left quadrant are teams that spend below the average transfer sum the last three years and are still exceeding expectations. Leading this group is Brighton, they have spent 80 million less than the average team but are have the 4th highest residual. Meaning they spend less, and beat expectations.\nSome teams don’t live up to the lofty expectations that their checkbooks create. Team’s in the bottom half of the chart are falling short based on whats expected of them because of their spending. Then, if you look in the bottom right of the chart, keep going, you will find Chelsea. They have earned 119 points less than expected based on their spending over the last three seasons. That is 60 points less than the next most under performing team Nottingham Forest, and 175 points less than our beacon of financial responsibility Brighton.\nIn the long run, Chelsea will most likely regress to the mean and get back to the top of the Premier League table. But, in the meantime let this be a lesson that more money does not necessarily equal more points."
  },
  {
    "objectID": "posts/nation-best-attacking-players/index.html",
    "href": "posts/nation-best-attacking-players/index.html",
    "title": "What nations provide the best attacking players?",
    "section": "",
    "text": "Football is the global sport. The best players can come from any corner of the world, and they often times do. But is there any rhyme or reason to where these players come from, or is it just random? Zooming in a little bit more, we can then try to answer the question where do the best attack minded players come from. To answer this question, we looked at attacking players in Europe’s consensus top 5 leagues. Those are England’s Premiere League, France’s Ligue 1, Spain’s La Liga, Germany’s Bundesliga, and Italy’s Serie A. The initial reaction is to look at what nation provides the most players and minutes to the top five leagues, so lets do just that.\n\n\nCode\nlibrary(tidyverse)\nlibrary(worldfootballR)\nlibrary(ggplot2)\nlibrary(ggrepel)\nlibrary(patchwork)\nlibrary(gt)\nlibrary(scales)\nlibrary(ggtext)\nlibrary(ggalt)\n\nplayingtimestats &lt;- fb_big5_advanced_season_stats(season_end_year=2023,stat_type=\"playing_time\",team_or_player=\"player\")\nstandardstats &lt;- fb_big5_advanced_season_stats(season_end_year=2023,stat_type=\"standard\",team_or_player=\"player\")\nmisc &lt;- fb_big5_advanced_season_stats(season_end_year=2023,stat_type=\"misc\",team_or_player=\"player\")\ngca &lt;- fb_big5_advanced_season_stats(season_end_year=2023,stat_type=\"gca\",team_or_player=\"player\")\nshooting &lt;- fb_big5_advanced_season_stats(season_end_year=2023,stat_type=\"shooting\",team_or_player=\"player\")\npassing &lt;- fb_big5_advanced_season_stats(season_end_year=2023,stat_type=\"passing\",team_or_player=\"player\")\n\nt20 &lt;- c(\"ALG\", \"ARG\", \"AUT\", \"BEL\", \"BRA\", \"CIV\", \"COL\", \"CRO\", \"DEN\", \"ENG\", \"ESP\", \"FRA\", \"GER\", \"GHA\", \"ITA\", \"JPN\", \"MAR\", \"NED\", \"NGA\", \"NOR\", \"POR\", \"SCO\", \"SEN\", \"SRB\", \"URU\")\n\npercentplayingtime &lt;- playingtimestats |&gt;\n  group_by(Nation) |&gt;\n  filter(Pos == \"FW\" | Pos == \"FW,MF\" | Pos == \"MF,FW\") |&gt;\n  filter(Min_percent_Playing.Time &gt;= 0) |&gt; \n  summarise(\n    playingtime_percent = mean(Min_percent_Playing.Time)) |&gt; \n  filter(Nation %in% t20)\n\nstandardnations &lt;- standardstats |&gt;\n  group_by(Nation) |&gt;\n  filter(Pos == \"FW\" | Pos == \"FW,MF\" | Pos == \"MF,FW\") |&gt;\n  filter(Min_Playing &gt;= 0) |&gt; \n  summarise(\n    Goals_Plus_Assist = mean(`G+A_Per`),\n    total_minutes = sum(Min_Playing)) |&gt; \n  filter(total_minutes &gt;= 10000)\n\nnationshotscreated &lt;- gca |&gt;\n  group_by(Nation) |&gt;\n  filter(Pos == \"FW\" | Pos == \"FW,MF\" | Pos == \"MF,FW\") |&gt;\n  summarise(\n    Shot_Creating_Actions_Per_Ninety = mean(SCA90_SCA)) |&gt; \n  filter(Nation %in% t20) |&gt; \n  filter(Shot_Creating_Actions_Per_Ninety &gt;= 0)\n\nnation_passing &lt;- passing |&gt;\n  group_by(Nation) |&gt;\n  filter(Pos == \"FW\" | Pos == \"FW,MF\" | Pos == \"MF,FW\") |&gt;\n  summarise(\n    total_passes = sum(Cmp_Total))\n\nshooting_nation &lt;- shooting |&gt;\n  group_by(Nation) |&gt;\n  filter(Pos == \"FW\" | Pos == \"FW,MF\" | Pos == \"MF,FW\") |&gt;\n  summarise(\n    total_shots = sum(Sh_Standard))\n\nnation_passing &lt;- passing |&gt;\n  group_by(Nation) |&gt;\n  filter(Pos == \"FW\" | Pos == \"FW,MF\" | Pos == \"MF,FW\") |&gt; \n  summarise(total_passes = sum(Att_Total))\n\ncurrent_standard &lt;- standardnations |&gt; inner_join(nationshotscreated)\nshooting_standard &lt;- current_standard |&gt; inner_join(shooting_nation)\n\nshots_per_ninety &lt;- shooting_standard |&gt; \n  mutate(shots_per_minute = total_shots / total_minutes) |&gt; \n  mutate(shots_per_ninety = shots_per_minute * 90)\n\ncurrent_standard &lt;- shots_per_ninety |&gt; inner_join(current_standard)\ncurrent_standard &lt;- percentplayingtime |&gt; inner_join(current_standard)\ncurrent_standard &lt;- nation_passing |&gt; inner_join(current_standard)\ncurrent_standard &lt;- current_standard |&gt; \n  mutate(passes_per_minute = total_passes / total_minutes) |&gt; \n  mutate(passes_per_ninety = passes_per_minute * 90)\n  \ncroatia &lt;- current_standard |&gt; \n  filter(Nation == \"CRO\")\nargentina &lt;- current_standard |&gt; \n  filter(Nation == \"ARG\")\njapan &lt;- current_standard |&gt; \n  filter(Nation == \"JPN\")\n\nbar1 &lt;- ggplot() + \n  geom_bar(data=current_standard, aes(x=reorder(Nation, total_minutes), weight=total_minutes)) +\n  geom_bar(data=japan, aes(x=reorder(Nation, total_minutes), weight=total_minutes), fill = \"red\") +\n  coord_flip() +\n  scale_y_continuous(labels=comma) +\n  labs(\n    x=\"\", \n    y=\"Total Minutes Played\") + \n  theme_minimal()\n\nbar2 &lt;- ggplot() + \n  geom_bar(data=current_standard, aes(x=reorder(Nation, playingtime_percent), weight=playingtime_percent)) +\n  geom_bar(data=japan, aes(x=reorder(Nation, playingtime_percent), weight=playingtime_percent), fill = \"red\") +\n  coord_flip() +\n  labs(\n    x=\"\", \n    y=\"Percentage of Minutes Played\") +\n  theme_minimal()\n  \n  bar1 + bar2 + \n  plot_annotation(\n    title = \"Japan's few minutes show up big \",\n    subtitle = \"Japanese forwards are playing more of their team's minutes than players of any other nation\",\n    caption = \"Source: Football Reference | By Gus Kathol\") &\n    theme(\n    plot.title = element_text(size = 16, face = \"bold\"),\n    axis.title = element_text(size = 8), \n    plot.subtitle = element_text(size=10), \n    panel.grid.minor = element_blank(),\n    plot.title.position = \"plot\"\n  )\n\n\n\n\n\n\n\n\n\nInitially it’s apparent that France jumps off the chart in total minutes provided. Total minutes may not be the best way to judge efficiency though. On the right, we see that Japan’s forwards are playing more of their team’s minutes on average than players of any other nation. This metric is a good way to see how the average player of a nation is providing production to their club. And on average, Japanese forwards are providing more of their teams minutes than any other nation.\nMinutes themselves cant tell you the whole story. It is also important to look at the counting stats that players create while providing those minutes. We can use per 90 statistics to see what nations players are providing the most points for every 90 minutes that they play for their club.\n\n\nCode\nggplot() +\n  geom_point(data = current_standard, aes(x = Goals_Plus_Assist, y = Shot_Creating_Actions_Per_Ninety)) +\n  geom_point(data = croatia, aes(x = Goals_Plus_Assist, y = Shot_Creating_Actions_Per_Ninety), color = \"blue\") +\n  geom_point(data = japan, aes(x = Goals_Plus_Assist, y = Shot_Creating_Actions_Per_Ninety), color = \"red\") +\n  geom_text_repel(\n    data=croatia, \n    aes(x=Goals_Plus_Assist, y=Shot_Creating_Actions_Per_Ninety, label=\"Croatia\")) +\n  geom_text_repel(\n    data=japan, \n    aes(x=Goals_Plus_Assist, y=Shot_Creating_Actions_Per_Ninety, label=\"Japan\")) +\n  geom_encircle(data=japan, aes(x=Goals_Plus_Assist +.025, y=Shot_Creating_Actions_Per_Ninety +.2), s_shape= 0, expand=.18, colour=\"red\")+\n  theme_minimal() +\n    labs(\n    x=\"Goals Plus Assist Per 90 \", \n    y=\"Shot Creating Actions Per 90\", \n    title=\"A new team enters the mix\", \n    subtitle=\"Croatian and Japanese forwards are providing more points for their teams than any other nations.\", \n    caption=\"Source: Football Reference | By Gus Kathol\"\n    ) +\n  theme(\n    plot.title = element_text(size = 20, face = \"bold\"),\n    axis.title = element_text(size = 9), \n    plot.subtitle = element_text(size=10), \n    panel.grid.minor = element_blank(),\n    plot.title.position = \"plot\"\n    )\n\n\n\n\n\n\n\n\n\nAs we saw earlier, Japanese players score well on this metric, but so do players of another nation. Croatian forwards are by far in a way providing more points and shot creating actions than players of any other nation. They may not be providing as many minutes as other nations, but when Croatian forwards are on the pitch they are a model of efficiency and point creation. Sometimes efficiency can get boring. What if we just looked at which players are the most active on the pitch, and providing the most volume?\n\n\nCode\nvolume_table_data &lt;- current_standard |&gt; \n  select(Nation, shots_per_ninety, passes_per_ninety) |&gt; \n  arrange(desc(shots_per_ninety)) |&gt; \n  top_n(10, wt = shots_per_ninety)\n\nvolume_table_data |&gt; \n  gt() |&gt; \n  cols_label(\n    shots_per_ninety = \"Shots Per 90\",\n    passes_per_ninety = \"Passes Per 90\"\n  ) |&gt; \n  tab_header(\n    title = \"Argentina gets active\",\n    subtitle = \"Argentinians produce a higher volume of shots and passes per 90 than any other nation.\"\n  ) |&gt; \n  tab_style(\n    style = cell_text(color = \"black\", weight = \"bold\", align = \"left\"),\n    locations = cells_title(\"title\")\n  ) |&gt; tab_style(\n    style = cell_text(color = \"black\", align = \"left\"),\n    locations = cells_title(\"subtitle\")\n  ) |&gt; \n  tab_source_note(\n    source_note = md(\"**By:** Gus Kathol  |  **Source:** Fotball Reference\")\n  ) |&gt; \n  tab_style(\n     locations = cells_column_labels(columns = everything()),\n     style = list(\n       cell_borders(sides = \"bottom\", weight = px(3)),\n       cell_text(weight = \"bold\", size=12))\n     ) |&gt; \n  opt_row_striping() |&gt; \n  opt_table_lines(\"none\") |&gt; \n  fmt_auto() |&gt; \n  tab_style(\n    style = list(\n      cell_fill(color = \"lightblue\"),\n      cell_text(color = \"white\")\n      ),\n    locations = cells_body(\n      rows = Nation == \"ARG\")\n  )\n\n\n\n\n\n\n\n\n\nArgentina gets active\n\n\nArgentinians produce a higher volume of shots and passes per 90 than any other nation.\n\n\nNation\nShots Per 90\nPasses Per 90\n\n\n\n\nARG\n2.745\n34.923\n\n\nSRB\n2.671\n24.54 \n\n\nBRA\n2.482\n36.732\n\n\nNED\n2.47 \n24.944\n\n\nURU\n2.465\n30.303\n\n\nPOR\n2.456\n36.901\n\n\nITA\n2.432\n29.657\n\n\nBEL\n2.43 \n25.928\n\n\nFRA\n2.362\n33.678\n\n\nMAR\n2.33 \n34.933\n\n\n\nBy: Gus Kathol | Source: Fotball Reference\n\n\n\n\n\n\n\n\n\nArgentinian players are leading other nations in shots per 90 and fourth in the world in passes per 90. Their shots and passes don’t necessarily lead to as many points as players from other countries, but they are certainly playing with the most volume.\nAs you can see, there are are not any clear answers on which nation provide the best attacking players. Different metrics provide different results. Those results can give you insights about players style of play and ability, but there is no “best”."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Latest posts",
    "section": "",
    "text": "What nations provide the best attacking players?\n\n\n\n\n\n\nfootball\n\n\ninternational\n\n\nforwards\n\n\n\n\n\n\n\n\n\nMay 5, 2024\n\n\nGus Kathol\n\n\n\n\n\n\n\n\n\n\n\n\nWhat can money tell us about success in the Premier League?\n\n\n\n\n\n\nfootball\n\n\npremierleague\n\n\ntransfers\n\n\n\n\n\n\n\n\n\nApr 14, 2024\n\n\nGus Kathol\n\n\n\n\n\n\nNo matching items"
  }
]